# –≠—Ñ—Ñ–µ–∫—Ç –¥–∏—Å—Ç–æ—Ä—Å–∏–∏ (Distortion Shader)

## üåä –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –∏—Å–∫–∞–∂–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ **Fractional Brownian Motion (FBM)** —à—É–º–∞ –æ—Ç Inigo Quilez. –°–æ–∑–¥–∞—ë—Ç –æ—Ä–≥–∞–Ω–∏—á–Ω—ã–µ –≤–æ–ª–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∏—Å–∫–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

## üé® –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º:

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —à—É–º–∞ FBM**
   - –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–π —à—É–º (6 –æ–∫—Ç–∞–≤)
   - –ú–∞—Ç—Ä–∏—á–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
   - Hash-—Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Å–µ–≤–¥–æ—Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏

2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞ —Å–º–µ—â–µ–Ω–∏—è**
   ```glsl
   vec3 v = (0.5 + 0.5 * sin(fbm * frequency * scale)) / scale
   ```

3. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–∏—Å—Ç–æ—Ä—Å–∏–∏**
   - –°–º–µ—â–µ–Ω–∏–µ UV-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ–∫—Ç–æ—Ä–∞
   - –°—ç–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç—É—Ä—ã —Å –∏—Å–∫–∞–∂–µ–Ω–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏

### –§—É–Ω–∫—Ü–∏–∏ —à—É–º–∞:

**`hash(n)`** - –ü—Å–µ–≤–¥–æ—Å–ª—É—á–∞–π–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
```glsl
return fract(sin(n)*43758.5453);
```

**`noise(x)`** - 3D Perlin-–ø–æ–¥–æ–±–Ω—ã–π —à—É–º
- –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- Smoothstep –¥–ª—è –≥–ª–∞–¥–∫–æ—Å—Ç–∏

**`myfbm(p)`** - Fractional Brownian Motion
- 6 –æ–∫—Ç–∞–≤ —à—É–º–∞
- –ö–∞–∂–¥–∞—è –æ–∫—Ç–∞–≤–∞ —Å —É–º–µ–Ω—å—à–∞—é—â–µ–π—Å—è –∞–º–ø–ª–∏—Ç—É–¥–æ–π
- –ú–∞—Ç—Ä–∏—á–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –º–µ–∂–¥—É –æ–∫—Ç–∞–≤–∞–º–∏

## üéõÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### Enable Distortion
- **–¢–∏–ø:** Boolean
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç
- **–í–ª–∏—è–Ω–∏–µ:** –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤–µ—Å—å —à–µ–π–¥–µ—Ä

### Animate
- **–¢–∏–ø:** Boolean
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –¥–∏—Å—Ç–æ—Ä—Å–∏–∏
- **–í–ª–∏—è–Ω–∏–µ:** –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, —à—É–º –¥–≤–∏–∂–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏

### Amplitude (–ê–º–ø–ª–∏—Ç—É–¥–∞)
- **–î–∏–∞–ø–∞–∑–æ–Ω:** 0 - 50
- **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 20.0
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏–ª–∞ –∏—Å–∫–∞–∂–µ–Ω–∏—è
- **–í–ª–∏—è–Ω–∏–µ:** 
  - 0 = –±–µ–∑ –∏—Å–∫–∞–∂–µ–Ω–∏—è
  - 10 = –ª–µ–≥–∫–æ–µ –∏—Å–∫–∞–∂–µ–Ω–∏–µ
  - 20-30 = —Å—Ä–µ–¥–Ω–µ–µ –∏—Å–∫–∞–∂–µ–Ω–∏–µ
  - 40-50 = —Å–∏–ª—å–Ω–æ–µ –∏—Å–∫–∞–∂–µ–Ω–∏–µ

### Scale 1
- **–î–∏–∞–ø–∞–∑–æ–Ω:** 0.1 - 2.0
- **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 0.3
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–∞—Å—à—Ç–∞–± —Å–∏–Ω—É—Å–æ–∏–¥–∞–ª—å–Ω–æ–π –º–æ–¥—É–ª—è—Ü–∏–∏
- **–í–ª–∏—è–Ω–∏–µ:**
  - –ú–µ–Ω—å—à–µ = –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–µ –≤–æ–ª–Ω—ã
  - –ë–æ–ª—å—à–µ = –±–æ–ª–µ–µ —É–∑–∫–∏–µ —á–∞—Å—Ç—ã–µ –≤–æ–ª–Ω—ã

### Scale 2
- **–î–∏–∞–ø–∞–∑–æ–Ω:** 0.5 - 10.0
- **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 3.5
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–∞—Å—à—Ç–∞–± –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ —à—É–º–∞
- **–í–ª–∏—è–Ω–∏–µ:**
  - –ú–µ–Ω—å—à–µ = –∫—Ä—É–ø–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –∏—Å–∫–∞–∂–µ–Ω–∏—è
  - –ë–æ–ª—å—à–µ = –º–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏—Å–∫–∞–∂–µ–Ω–∏—è

### Frequency X
- **–î–∏–∞–ø–∞–∑–æ–Ω:** 1 - 100
- **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 30.0
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ß–∞—Å—Ç–æ—Ç–∞ –∏—Å–∫–∞–∂–µ–Ω–∏—è –ø–æ –æ—Å–∏ X
- **–í–ª–∏—è–Ω–∏–µ:**
  - –ù–∏–∑–∫–∞—è (1-10) = –ø–ª–∞–≤–Ω—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –≤–æ–ª–Ω—ã
  - –°—Ä–µ–¥–Ω—è—è (20-40) = –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–∞–∂–µ–Ω–∏–µ
  - –í—ã—Å–æ–∫–∞—è (50-100) = —á–∞—Å—Ç—ã–µ –≤–∏–±—Ä–∞—Ü–∏–∏

### Frequency Y
- **–î–∏–∞–ø–∞–∑–æ–Ω:** 1 - 100
- **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 30.0
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ß–∞—Å—Ç–æ—Ç–∞ –∏—Å–∫–∞–∂–µ–Ω–∏—è –ø–æ –æ—Å–∏ Y
- **–í–ª–∏—è–Ω–∏–µ:**
  - –ù–∏–∑–∫–∞—è (1-10) = –ø–ª–∞–≤–Ω—ã–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –≤–æ–ª–Ω—ã
  - –°—Ä–µ–¥–Ω—è—è (20-40) = –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–∞–∂–µ–Ω–∏–µ
  - –í—ã—Å–æ–∫–∞—è (50-100) = —á–∞—Å—Ç—ã–µ –≤–∏–±—Ä–∞—Ü–∏–∏

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–µ—Å–µ—Ç—ã

### –õ–µ–≥–∫–∞—è —Ä—è–±—å
```javascript
amplitude: 5-10
scale1: 0.3
scale2: 3.5
freqX: 30
freqY: 30
animate: true
```

### –í–æ–¥–Ω—ã–µ –≤–æ–ª–Ω—ã
```javascript
amplitude: 15-25
scale1: 0.2
scale2: 2.0
freqX: 10-20
freqY: 10-20
animate: true
```

### –°–∏–ª—å–Ω–æ–µ –∏—Å–∫–∞–∂–µ–Ω–∏–µ
```javascript
amplitude: 30-50
scale1: 0.5
scale2: 5.0
freqX: 50-70
freqY: 50-70
animate: true
```

### –°—Ç–∞—Ç–∏—á–Ω–æ–µ –º—è–≥–∫–æ–µ –∏—Å–∫–∞–∂–µ–Ω–∏–µ
```javascript
amplitude: 12
scale1: 0.3
scale2: 4.0
freqX: 25
freqY: 25
animate: false
```

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –≤–æ–ª–Ω—ã
```javascript
amplitude: 20
scale1: 0.4
scale2: 3.0
freqX: 5
freqY: 60
animate: true
```

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –≤–æ–ª–Ω—ã
```javascript
amplitude: 20
scale1: 0.4
scale2: 3.0
freqX: 60
freqY: 5
animate: true
```

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–î–ª—è –æ—Ä–≥–∞–Ω–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–∑–∏—Ü–∏–π:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ä–µ–¥–Ω—é—é –∞–º–ø–ª–∏—Ç—É–¥—É (15-25)
   - –†–∞–≤–Ω—ã–µ —á–∞—Å—Ç–æ—Ç—ã X –∏ Y
   - –í–∫–ª—é—á–∏—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é

2. **–î–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Ä–∞–±–æ—Ç:**
   - –í—ã–∫–ª—é—á–∏—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é
   - –†–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –∏—Å–∫–∞–∂–µ–Ω–∏–µ

3. **–î–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
   - –°–∏–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–Ω—ã–µ FreqX –∏ FreqY —Å–æ–∑–¥–∞—é—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∏—Å–∫–∞–∂–µ–Ω–∏—è
   - –í—ã—Å–æ–∫–∏–π Scale2 + –Ω–∏–∑–∫–∏–π Amplitude = –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ä—è–±—å
   - –ù–∏–∑–∫–∏–π Scale2 + –≤—ã—Å–æ–∫–∏–π Amplitude = –º–æ—â–Ω—ã–µ –≤–æ–ª–Ω—ã

4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –®–µ–π–¥–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –ê–Ω–∏–º–∞—Ü–∏—è –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ –ª–µ—Ç—É

## üìê –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞

–§–æ—Ä–º—É–ª–∞ –¥–∏—Å—Ç–æ—Ä—Å–∏–∏:
```
p = scale2 * uv - time * (1,1,1) * 0.1
x = fbm(p)
v = (0.5 + 0.5 * sin(x * freq * scale1)) / scale1
v *= amplitude
distortedUV = uv + 0.02 * v.xy / resolution
```

–ì–¥–µ:
- `p` - –ø–æ–∑–∏—Ü–∏—è –≤ —à—É–º–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
- `x` - –∑–Ω–∞—á–µ–Ω–∏–µ FBM —à—É–º–∞
- `v` - –≤–µ–∫—Ç–æ—Ä —Å–º–µ—â–µ–Ω–∏—è
- `distortedUV` - —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ UV –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

## üé® –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π

–î–∏—Å—Ç–æ—Ä—Å–∏—è –æ—Å–æ–±–µ–Ω–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–Ω–∞ —Å:
- **–í—ã—Å–æ–∫–∞—è Grid Density** (10-15) + —Å—Ä–µ–¥–Ω—è—è –¥–∏—Å—Ç–æ—Ä—Å–∏—è = –¥–µ—Ç–∞–ª—å–Ω—ã–π —É–∑–æ—Ä —Å –≤–æ–ª–Ω–∞–º–∏
- **Radial Grid** + –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∏—Å—Ç–æ—Ä—Å–∏—è = –≥–∏–ø–Ω–æ—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **Recursion Depth 2-3** + –ª–µ–≥–∫–∞—è –¥–∏—Å—Ç–æ—Ä—Å–∏—è = –≥–ª—É–±–∏–Ω–∞ + –¥–≤–∏–∂–µ–Ω–∏–µ
- **Show Grid Points ON** + —Å–∏–ª—å–Ω–∞—è –¥–∏—Å—Ç–æ—Ä—Å–∏—è = –¥–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç–∫–∞

## üîó –ò—Å—Ç–æ—á–Ω–∏–∫

Noise functions by **Inigo Quilez**
- [Shadertoy Source](https://www.shadertoy.com/view/XslGRr)
- License: Creative Commons Attribution-NonCommercial-ShareAlike 3.0
