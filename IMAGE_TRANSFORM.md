# üñºÔ∏è Image Transform Guide

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è.

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ß–µ—Ä–µ–∑ GUI (Image –ø–∞–ø–∫–∞):

1. **üîç Scale** (0.1 - 3.0)
   - –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç 10% –¥–æ 300%
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1.0 (100%)
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ cover-—Ä–µ–∂–∏–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

2. **‚ÜîÔ∏è Offset X** (-width –¥–æ +width)
   - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0 (—Ü–µ–Ω—Ç—Ä)
   - –í –ø–∏–∫—Å–µ–ª—è—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞

3. **‚ÜïÔ∏è Offset Y** (-height –¥–æ +height)
   - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0 (—Ü–µ–Ω—Ç—Ä)
   - –í –ø–∏–∫—Å–µ–ª—è—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞

4. **üîÑ Reset Transform**
   - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - Scale ‚Üí 1.0
   - Offset X ‚Üí 0
   - Offset Y ‚Üí 0

### –ß–µ—Ä–µ–∑ –ú—ã—à—å (Drag & Drop):

1. **–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   - –ù–∞–∂–º–∏—Ç–µ –∏ —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –ª–µ–≤—É—é –∫–Ω–æ–ø–∫—É –º—ã—à–∏ –Ω–∞ –∫–∞–Ω–≤–∞—Å–µ
   - –ü–µ—Ä–µ–º–µ—â–∞–π—Ç–µ –º—ã—à—å –¥–ª—è drag –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –ö—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `grab` / `grabbing`
   - –ó–Ω–∞—á–µ–Ω–∏—è Offset X/Y –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

2. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫—É—Ä—Å–æ—Ä–∞:**
   - `pointer` - –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - `grab` - –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å
   - `grabbing` - –∞–∫—Ç–∏–≤–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –ö–ª–∞–≤–∏–∞—Ç—É—Ä—É:

- **R** - –°–±—Ä–æ—Å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Zoom & Pan workflow:

```
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (drag & drop)
2. –£–≤–µ–ª–∏—á—å—Ç–µ –º–∞—Å—à—Ç–∞–±: Scale = 1.5
3. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ drag'–æ–º –º—ã—à—å—é –¥–ª—è –Ω—É–∂–Ω–æ–π –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Grid Density –∏ Primitive Scale
5. Regenerate –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
```

### –¢–æ—á–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:

```
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–∞–π–¥–µ—Ä—ã Offset X/Y –¥–ª—è —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
2. –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
3. Combine —Å Scale –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏:

```javascript
// 1. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä –¥–ª—è cover-—Ä–µ–∂–∏–º–∞
let drawWidth, drawHeight;
if (imgAspect > canvasAspect) {
  drawHeight = height;
  drawWidth = height * imgAspect;
} else {
  drawWidth = width;
  drawHeight = width / imgAspect;
}

// 2. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –º–∞—Å—à—Ç–∞–±
drawWidth *= imageScale;
drawHeight *= imageScale;

// 3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–º–µ—â–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞
image(
  backgroundImage, 
  width/2 + imageOffsetX, 
  height/2 + imageOffsetY, 
  drawWidth, 
  drawHeight
);
```

### –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã drag:

- –ù–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ `mousePressed()`
- –î–µ–ª—å—Ç–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ `mouseX - dragStartX`
- Offset –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: `newOffset = startOffset + delta`
- GUI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è

## üé® –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —à–µ–π–¥–µ—Ä–æ–º

–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **–¥–æ** —à–µ–π–¥–µ—Ä–∞:
1. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∏—Å—É–µ—Ç—Å—è –≤ graphics buffer —Å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
2. –®–µ–π–¥–µ—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ transformed –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
3. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∏—Å—É–µ—Ç—Å—è –∫–∞–∫ —Ñ–æ–Ω
4. –ü—Ä–∏–º–∏—Ç–∏–≤—ã —Ä–∏—Å—É—é—Ç—Å—è –ø–æ–≤–µ—Ä—Ö

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ distortion shader —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —É–∂–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º.

## üí° –°–æ–≤–µ—Ç—ã

1. **–î–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏:**
   - Scale = 1.5-2.0
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ drag –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
   - –í—ã—Å–æ–∫–∞—è Grid Density (10-12)

2. **–î–ª—è –º–∏–Ω–∏–º–∞–ª–∏–∑–º–∞:**
   - Scale = 0.8-1.2
   - –¶–µ–Ω—Ç—Ä–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (Reset Transform)
   - –ù–∏–∑–∫–∞—è Grid Density (4-6)

3. **–î–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:**
   - Scale = 2.0+
   - –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ offsets
   - –í—ã—Å–æ–∫–∞—è Distortion Amplitude
   - Show Grid Points = false

4. **–ë—ã—Å—Ç—Ä—ã–π reset:**
   - –ö–Ω–æ–ø–∫–∞ `üîÑ Reset Transform` –≤ GUI
   - –ö–ª–∞–≤–∏—à–∞ `R` –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
   - –û–±–∞ –º–µ—Ç–æ–¥–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫ –¥–µ—Ñ–æ–ª—Ç—É

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–ª–∞–π–¥–µ—Ä—ã —Ç—Ä–∏–≥–≥–µ—Ä—è—Ç `generateComposition()`
- Drag –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ï—Å–ª–∏ `animateDistortion = false`, –∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Ä–∏—Å—É–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
- –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤

## üîÑ –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

Transform –≤–ª–∏—è–µ—Ç –Ω–∞:
- ‚úÖ Background image rendering
- ‚úÖ Shader application area
- ‚ùå –ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–∏–º–∏—Ç–∏–≤—ã (–æ–Ω–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- ‚ùå –ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ grid system (grid –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ canvas)

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–æ–Ω–æ–º –∏ –≥–µ–æ–º–µ—Ç—Ä–∏–µ–π!
